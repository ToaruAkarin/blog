[{"title":"使用 Adobe Premiere Pro 进行视频帧插补","url":"/articles/pr-frame-interpolation/","content":"\n## 准备\n\n### 所需工具\n\n- Adobe Premiere Pro\n- Twixtor Pro\n\n### 对 Matroska 格式的素材进行拆轨\n\n一来就踩了个坑，导入不了素材。\n\n搜索后得知，Premiere Pro 不接受 Matroska 格式的素材，我们需要先将其中的音视频轨道拆出来。这里我使用 FFmpeg 进行拆分：\n\n```shell\n# 分离视频轨道\nffmpeg -i <输入文件>.mkv -vcodec copy -an <输出文件>.mp4\n\n# 分离音频轨道\n# 请根据视频音轨的编码修改输出文件的格式\nffmpeg -i <输入文件>.mkv -acodec copy -vn <输出文件>.m4a\n```\n\n得到的文件就能导入了。\n\n## 补帧\n\n常见的补帧方法有光流法和 Twixtor 补帧。由于光流法效果略差，我这里使用后者。\n\n首先当然是打开 Pr 新建项目，然后将素材拖入轨道并修改序列设置：\n\n![](1.png)\n\n之后，通过键盘方向键导航，观察画面变化间隔的帧数。\n\n右键序列中刚导入的素材，点击 「**取消链接**」 并删除音频轨道。然后选择右键菜单中的 「**速度/持续时间...**」，将速度改为 250%（假设画面 2-3 帧变化一次），这将起到消除重复帧的作用。由于速度变为了原来的 2.5 倍，需要将原素材选中，复制粘贴两次，起占位作用。\n\n此时，轨道应该是这个样子的：\n\n![](2.png)\n\n然后选中刚刚复制的这些轨道，右键，点击 「**嵌套...**」。添加嵌套之后不要切换到嵌套序列，直接将 「**效果**」 窗口中的 「**Twixtor Pro**」 拖至视频轨道上。\n\n之后对其进行以下设置：\n\n- 在 「**Output Control**」 中将速度调整为 40%（取决于上文调整的速度，上文加的速这里降回来）\n- 将 「**GPU Settings**」 里的 「**Use GPU**」 勾选（显卡加速）\n- 把 「**Output Control**」 中的 「**Warping**」 设置为 「**Forward**」（降低重影）\n- （可选）调整 「**Main_BG Layer Settings**」 中的 「**Main_BG Sensitive**」（值越大画面越滑，但果冻效应也会更强）\n\n如图：\n\n![](3.png)\n\n然后将音频轨道加回来，并删除视频多出来的部分（如果有）。\n\n之后按下回车键渲染一下。喝杯茶之后回来看看效果，没问题的话就可以导出了。\n\n## 最终效果\n\n- [戳这里](https://www.bilibili.com/video/av89707319)","tags":["Adobe","补帧"],"categories":["日常"]}]